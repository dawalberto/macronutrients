let i=[],v=(e,a)=>{let n=[],t={get(){return t.lc||t.listen(()=>{})(),t.value},l:a||0,lc:0,listen(l,r){return t.lc=n.push(l,r||t.l)/2,()=>{let o=n.indexOf(l);~o&&(n.splice(o,2),--t.lc||t.off())}},notify(l,r){let o=!i.length;for(let s=0;s<n.length;s+=2)i.push(n[s],n[s+1],t.value,l,r);if(o){for(let s=0;s<i.length;s+=5){let g;for(let p=s+1;!g&&(p+=5)<i.length;)i[p]<i[s+1]&&(g=i.push(i[s],i[s+1],i[s+2],i[s+3],i[s+4]));g||i[s](i[s+2],i[s+3],i[s+4])}i.length=0}},off(){},set(l){let r=t.value;r!==l&&(t.value=l,t.notify(r))},subscribe(l,r){let o=t.listen(l,r);return l(t.value),o},value:e};return t};function y(e,a,n){let t=new Set([...a,void 0]);return e.listen((l,r,o)=>{t.has(o)&&n(l,r,o)})}let x=(e={})=>{let a=v(e);return a.setKey=function(n,t){let l=a.value;typeof t>"u"&&n in a.value?(a.value={...a.value},delete a.value[n],a.notify(l,n)):a.value[n]!==t&&(a.value={...a.value,[n]:t},a.notify(l,n))},a};const K=e=>{const a=new Date,n=new Date(e);let t=a.getFullYear()-n.getFullYear();const l=a.getMonth()-n.getMonth();return(l<0||l===0&&a.getDate()<n.getDate())&&t--,t},m=e=>{switch(e){case"Sedentary":return 1.2;case"Lightly active":return 1.375;case"Moderately active":return 1.55;case"Very active":return 1.725;case"Extremely active":return 1.9}},D=300,P=300,B=1.8,N=2,Q=2.5,W=.25,Y=.9,u=63,k=169,w=K("1997-12-30"),F="male",M=.407*u+.267*k-19.2,A="Boer",d={formula:A,lbmKg:Number(M.toFixed(1)),lbmPercentage:Math.round(M/u*100),bodyFatPercentage:Math.round((u-M)/u*100)},f="Moderately active",T="Katch-McArdle",h=370+21.6*(1-d.bodyFatPercentage/100)*u,b={equation:T,exerciseMultiplier:f,kcalPerDay:Math.round(h),kcalPerDayToMaintain:Math.round(h*m(f)),kcalPerDayToSurplus:Math.round(h*m(f)+D),kcalPerDayToDefinition:Math.round(h*m(f)-P)},$="Maintain",E=Math.round(B*d.lbmKg),S=Math.round(d.lbmKg),C=Math.round((b.kcalPerDayToMaintain-(E*4+S*9))/4),L=({equation:e,exerciseMultiplier:a})=>{const{bmrAndExercise:n}=c.get(),t=e??n.equation,l=a??n.exerciseMultiplier;let r=b.kcalPerDay;switch(t){case"Mifflin St Jeor":r=R();break;case"Revised Harris-Benedict":r=U();break;case"Katch-McArdle":r=G();break}const{kcalPerDayToMaintain:o,kcalPerDayToSurplus:s,kcalPerDayToDefinition:g}=q({bmr:r,exerciseMultiplier:l});j({equation:t,exerciseMultiplier:l,kcalPerDay:Math.round(r),kcalPerDayToMaintain:Math.round(o),kcalPerDayToSurplus:Math.round(s),kcalPerDayToDefinition:Math.round(g)})},R=()=>{const{weight:e,height:a,genre:n,age:t}=c.get();let l=0;return n==="male"?l=10*e+6.25*a-5*t+5:l=10*e+6.25*a-5*t-161,l},U=()=>{const{weight:e,height:a,genre:n,age:t}=c.get();let l=0;return n==="male"?l=13.397*e+4.799*a-5.677*t+88.362:l=9.247*e+3.098*a-4.33*t+447.593,l},G=()=>{const{weight:e,lbm:a}=c.get();return 370+21.6*(1-a.bodyFatPercentage/100)*e},q=({bmr:e,exerciseMultiplier:a})=>{const n=m(a);return{kcalPerDayToMaintain:e*n,kcalPerDayToSurplus:e*n+D,kcalPerDayToDefinition:e*n-P}},H=({formula:e,lbmManual:a})=>{const{weight:n,lbm:t}=c.get(),l=e??t.formula;let r=d.lbmKg;switch(l){case"Boer":r=O();break;case"James":r=I();break;case"Hume":r=J();break;case"Manual":r=a??t.lbmKg;break}V({formula:l,lbmKg:Number(r.toFixed(1)),lbmPercentage:Math.round(r/n*100),bodyFatPercentage:Math.round((n-r)/n*100)})},O=()=>{const{weight:e,height:a,genre:n}=c.get();let t=0;return n==="male"?t=.407*e+.267*a-19.2:t=.252*e+.473*a-48.3,t},I=()=>{const{weight:e,height:a,genre:n}=c.get();let t=0;return n==="male"?t=1.1*e-128*(e/a)**2:t=1.07*e-148*(e/a)**2,t},J=()=>{const{weight:e,height:a,genre:n}=c.get();let t=0;return n==="male"?t=.3281*e+.33929*a-29.5336:t=.29569*e+.41813*a-43.2933,t},c=x({height:k,weight:u,age:w,genre:F,lbm:d,bmrAndExercise:b,goal:$}),z=e=>{c.setKey("height",e)},X=e=>{c.setKey("weight",e)},Z=e=>{c.setKey("age",e)},_=e=>{c.setKey("genre",e)},V=e=>{c.setKey("lbm",e)},ee=e=>{c.setKey("goal",e)},j=e=>{c.setKey("bmrAndExercise",e)};y(c,["weight","height","genre"],()=>{H({})});y(c,["weight","height","genre","age","lbm"],()=>{L({})});export{_ as $,Z as a,z as b,X as c,c as d,f as e,L as f,$ as g,ee as h,H as i,C as j,S as k,y as l,E as m,b as n,Q as o,Y as p,N as q,W as r,B as s};
